CREATE SCHEMA AGID_USER;

CREATE TABLE AGID_USER.PP_USER (
	ID_USER NUMBER(38,0) NULL,
	USERNAME VARCHAR2(128) NULL,
	EMAIL VARCHAR2(128) NULL,
	STATUS NUMBER(2,0) NULL,
	NAME VARCHAR2(512) NULL,
	SURNAME VARCHAR2(512) NULL,
	CELLPHONE VARCHAR2(64) NULL,
	LAST_ACCESS TIMESTAMP NULL,
	IS_EMAIL_VERIFIED NUMBER(1,0) NULL,
	EMAIL_LINK_VALIDATION VARCHAR2(512) NULL,
	EMAIL_LINK_RESET_PASSWORD VARCHAR2(512) NULL,
	IS_CELLPHONE_VERIFIED NUMBER(1,0) NULL,
	FLAG_TERMS NUMBER(1,0) NULL,
	FLAG_CONDITION NUMBER(1,0) NULL,
	CREATION_DATE TIMESTAMP NULL,
	UPDATE_DATE TIMESTAMP NULL,
	PASSWORD VARCHAR2(128) NULL,
	PUK VARCHAR2(128) NULL,
	TOKEN_PUK_VERIFIED VARCHAR2(128) NULL,
	REGISTERED_DATE DATE NULL,
	TEMPORARY_CELLPHONE VARCHAR2(64) NULL,
	BO_TEMPORARY_PASSWORD VARCHAR2(256) NULL,
	BO_TEMPORARY_PASSWORD_TOKEN VARCHAR2(256) NULL,
	BO_TEMPORARY_PUK VARCHAR2(256) NULL,
	BO_TEMPORARY_PUK_TOKEN VARCHAR2(256) NULL,
	BO_TEMPORARY_EMAIL VARCHAR2(256) NULL,
	BO_TEMPORARY_EMAIL_TOKEN VARCHAR2(256) NULL,
	ACTIVATION_DATE DATE NULL,
	NOTIFICATION_EMAIL VARCHAR2(128) NULL,
	FISCAL_CODE VARCHAR2(16) NULL
);

CREATE TABLE AGID_USER.PP_TRANSACTION (
	ID NUMBER(38,0) NULL,
	FK_USER NUMBER(38,0) NULL,
	FK_PAYMENT NUMBER(38,0) NULL,
	FK_WALLET NUMBER(38,0) NULL,
	AMOUNT NUMBER(20,0) NULL,
	FEE NUMBER(20,0) NULL,
	STATUS NUMBER(2,0) NULL,
	CREATION_DATE TIMESTAMP NULL,
	UPDATE_DATE TIMESTAMP NULL,
	GRAND_TOTAL NUMBER(38) NULL,
	FK_PSP NUMBER(38) NULL,
	ACCOUNTING_STATUS NUMBER(2,0) NULL,
	SPC_NODE_STATUS NUMBER(2,0) NULL,
	SPC_NODE_DESCRIPTION VARCHAR2(512) NULL,
	ACCOUNT_CODE VARCHAR2(16) NULL,
	ACCOUNT_ATTEMPT NUMBER(38) NULL,
	AUTHORIZATION_CODE VARCHAR2(50) NULL,
	FK_BUSINESS_NAME VARCHAR2(128) NULL,
	SERVICE_NAME VARCHAR2(256) NULL,
	ID_CHANNEL VARCHAR2(128) NULL,
	MANUAL_JOB_PROCESSED NUMBER(1,0) NULL,
	MANUAL_JOB_DATE TIMESTAMP NULL,
	MANUAL_JOB_RESULT VARCHAR2(32) NULL,
	RRN VARCHAR2(50) NULL,
	NUMAUT VARCHAR2(20) NULL,
	TX_REVERT_RETRY_COUNT NUMBER(38) NULL,
	ID_PSP VARCHAR2(128) NULL,
	CODICE_ABI VARCHAR2(16) NULL,
	OUTCOME NUMBER(38) NULL,
	"LANGUAGE" VARCHAR2(10) NULL,
	EMAIL_NOTIFICATION_EVENT VARCHAR2(40) NULL,
	PGS_GUID VARCHAR2(40) NULL,
	PGS_OUTCOME VARCHAR2(20) NULL
);

CREATE TABLE AGID_USER.PP_PAYMENT (
	ID NUMBER(38,0) NULL,
	ID_PAYMENT VARCHAR2(128) NULL,
	AMOUNT NUMBER(20,0) NULL,
	EMAIL VARCHAR2(128) NULL,
	SUBJECT VARCHAR2(140) NULL,
	RECEIVER VARCHAR2(70) NULL,
	CREATION_DATE TIMESTAMP NULL,
	UPDATE_DATE TIMESTAMP NULL,
	URL_REDIRECT_EC VARCHAR2(256) NULL,
	IS_CANCELLED NUMBER(38) NULL,
	IS_NOT_NOTIFIED NUMBER(38) NULL,
	RETRY_COUNT NUMBER(38) NULL,
	BOLLO_DIGITALE NUMBER(38) NULL,
	CREDIT_CARD_VERIFICATION NUMBER(38) NULL,
	FISCAL_CODE VARCHAR2(16) NULL,
	ORIGIN VARCHAR2(30) NULL,
	ID_CARRELLO VARCHAR2(35) NULL,
	IBAN VARCHAR2(35) NULL
);

CREATE TABLE AGID_USER.PP_PAYMENT_DETAIL (
	ID NUMBER(38) NULL,
	PAYMENT_ID NUMBER(38) NULL,
	IUV VARCHAR2(35) NULL,
	CCP VARCHAR2(35) NULL,
	ID_DOMINIO VARCHAR2(35) NULL,
	ENTE_BENEFICIARIO VARCHAR2(70) NULL,
	IMPORTO NUMBER(38) NULL,
	TIPO_PAGATORE VARCHAR2(1) NULL,
	CODICE_PAGATORE VARCHAR2(16) NULL,
	NOME_PAGATORE VARCHAR2(70) NULL
);

CREATE TABLE AGID_USER.PP_PSP (
	ID NUMBER(9,0) NULL,
	ID_PSP VARCHAR2(128) NULL,
	BUSINESS_NAME VARCHAR2(128) NULL,
	PAYMENT_TYPE VARCHAR2(128) NULL,
	ID_INTERMEDIARY VARCHAR2(128) NULL,
	ID_CHANNEL VARCHAR2(128) NULL,
	LOGO_PSP CLOB NULL,
	SERVICE_LOGO CLOB NULL,
	SERVICE_NAME VARCHAR2(256) NULL,
	FIXED_COST NUMBER(20,0) NULL,
	APP_CHANNEL NUMBER(1,0) NULL,
	SERICE_DESCRIPTION CLOB NULL,
	TAGS CLOB NULL,
	SERVICE_AVAILABILITY VARCHAR2(256) NULL,
	URL_INFO_CHANNEL VARCHAR2(256) NULL,
	PAYMENT_MODEL NUMBER(38) NULL,
	FLAG_STAMP NUMBER(38) NULL,
	LOB_LOGO_PSP BLOB NULL,
	LOB_SERVICE_LOGO BLOB NULL,
	IS_CANCELLED NUMBER(38) NULL,
	ID_CARD NUMBER(38) NULL,
	"LANGUAGE" VARCHAR2(2) NULL,
	CODICE_ABI VARCHAR2(16) NULL,
	PARTICIPANT VARCHAR2(8) NULL,
	CODICE_CONVENZIONE VARCHAR2(35) NULL
);

INSERT
	INTO
	AGID_USER.PP_USER
(ID_USER,
	USERNAME,
	EMAIL,
	STATUS,
	NAME,
	SURNAME,
	CELLPHONE,
	LAST_ACCESS,
	IS_EMAIL_VERIFIED,
	EMAIL_LINK_VALIDATION,
	EMAIL_LINK_RESET_PASSWORD,
	IS_CELLPHONE_VERIFIED,
	FLAG_TERMS,
	FLAG_CONDITION,
	CREATION_DATE,
	UPDATE_DATE,
	PASSWORD,
	PUK,
	TOKEN_PUK_VERIFIED,
	REGISTERED_DATE,
	TEMPORARY_CELLPHONE,
	BO_TEMPORARY_PASSWORD,
	BO_TEMPORARY_PASSWORD_TOKEN,
	BO_TEMPORARY_PUK,
	BO_TEMPORARY_PUK_TOKEN,
	BO_TEMPORARY_EMAIL,
	BO_TEMPORARY_EMAIL_TOKEN,
	ACTIVATION_DATE,
	NOTIFICATION_EMAIL,
	FISCAL_CODE)
VALUES(1,
'username',
'test@test.it',
11,
'name',
'surname',
NULL,
TIMESTAMP '2018-06-25 15:19:51.748000',
0,
NULL,
NULL,
0,
1,
1,
TIMESTAMP '2018-06-25 15:19:51.748000',
TIMESTAMP '2018-06-26 12:41:29.054000',
NULL,
NULL,
NULL,
NULL,
NULL,
NULL,
NULL,
NULL,
NULL,
NULL,
NULL,
NULL,
'test@test.it',
'fiscal_code');

INSERT
	INTO
	AGID_USER.PP_TRANSACTION
(ID,
	FK_USER,
	FK_PAYMENT,
	FK_WALLET,
	AMOUNT,
	FEE,
	STATUS,
	CREATION_DATE,
	UPDATE_DATE,
	GRAND_TOTAL,
	FK_PSP,
	ACCOUNTING_STATUS,
	SPC_NODE_STATUS,
	SPC_NODE_DESCRIPTION,
	ACCOUNT_CODE,
	ACCOUNT_ATTEMPT,
	AUTHORIZATION_CODE,
	FK_BUSINESS_NAME,
	SERVICE_NAME,
	ID_CHANNEL,
	MANUAL_JOB_PROCESSED,
	MANUAL_JOB_DATE,
	MANUAL_JOB_RESULT,
	RRN,
	NUMAUT,
	TX_REVERT_RETRY_COUNT,
	ID_PSP,
	CODICE_ABI,
	OUTCOME,
	"LANGUAGE",
	EMAIL_NOTIFICATION_EVENT,
	PGS_GUID,
	PGS_OUTCOME)
VALUES(1,
1,
1,
1,
100,
50,
2,
TIMESTAMP '2018-06-26 17:05:36.232000',
TIMESTAMP '2018-06-26 17:05:36.232000',
150,
1,
1,
1,
NULL,
NULL,
1,
'auth code',
NULL,
'payment method name',
NULL,
1,
NULL,
NULL,
'rrn',
NULL,
NULL,
NULL,
NULL,
NULL,
NULL,
NULL,
NULL,
NULL);


INSERT
	INTO
	AGID_USER.PP_PAYMENT_DETAIL
(ID,
	PAYMENT_ID,
	IUV,
	CCP,
	ID_DOMINIO,
	ENTE_BENEFICIARIO,
	IMPORTO,
	TIPO_PAGATORE,
	CODICE_PAGATORE,
	NOME_PAGATORE)
VALUES(1,
1,
'000000044060814',
'MIUR20191119222949',
'97061100588',
'RMIC81500N',
NULL,
NULL,
NULL,
NULL);
INSERT
	INTO
	AGID_USER.PP_PSP
(ID,
	ID_PSP,
	BUSINESS_NAME,
	PAYMENT_TYPE,
	ID_INTERMEDIARY,
	ID_CHANNEL,
	LOGO_PSP,
	SERVICE_LOGO,
	SERVICE_NAME,
	FIXED_COST,
	APP_CHANNEL,
	SERICE_DESCRIPTION,
	TAGS,
	SERVICE_AVAILABILITY,
	URL_INFO_CHANNEL,
	PAYMENT_MODEL,
	FLAG_STAMP,
	LOB_LOGO_PSP,
	LOB_SERVICE_LOGO,
	IS_CANCELLED,
	ID_CARD,
	"LANGUAGE",
	CODICE_ABI,
	PARTICIPANT,
	CODICE_CONVENZIONE)
VALUES(1,
'CCRTIT2TCAR',
'Test',
'OBEP',
'97735020584',
'97735020584_01',
NULL,
NULL,
'MyBank',
90,
0,
'desc',
'MYBANK',
'Servizio accessibile 24/7',
'www.site.it',
1,
0,
'00',
'00',
1,
1518,
'IT',
NULL,
NULL,
NULL);


INSERT
	INTO
	AGID_USER.PP_PAYMENT
(ID,
	ID_PAYMENT,
	AMOUNT,
	EMAIL,
	SUBJECT,
	RECEIVER,
	CREATION_DATE,
	UPDATE_DATE,
	URL_REDIRECT_EC,
	IS_CANCELLED,
	IS_NOT_NOTIFIED,
	RETRY_COUNT,
	BOLLO_DIGITALE,
	CREDIT_CARD_VERIFICATION,
	FISCAL_CODE,
	ORIGIN,
	ID_CARRELLO,
	IBAN)
VALUES(1,
'ac4f1d71-db20-4c10-9059-afbee92ff83f',
10,
NULL,
'/RFB/718173815252003/0.10/TXT/Pagamento di test 20',
'Comune di Milano',
TIMESTAMP '2018-06-25 12:35:26.976000',
TIMESTAMP '2018-06-25 12:35:26.976000',
'http://test.it:80/pagamenti?idSession=...',
0,
0,
0,
0,
0,
NULL,
'origin',
NULL,
NULL);
